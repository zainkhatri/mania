/* Mobile scrolling fix - completely revamped for new mobile layout */
@media (max-width: 768px) {
  /* Force enable scrolling for the entire page */
  body, html, #root {
    overflow-y: auto !important;
    overflow-x: hidden !important;
    height: auto !important;
    min-height: 100vh !important;
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior: contain !important;
  }
  
  /* Hide desktop journal preview on mobile to eliminate duplication */
  .bg-black.rounded-2xl.shadow-2xl.border.border-white\/20.overflow-hidden.order-1.md\:order-2.md\:sticky.md\:top-0 {
    display: none !important;
  }
  
  /* Make color picker horizontal scroll on mobile */
  .w-\[200px\].mx-auto.overflow-x-auto {
    -webkit-overflow-scrolling: touch !important;
    scrollbar-width: thin !important;
    scrollbar-color: rgba(255, 255, 255, 0.3) rgba(255, 255, 255, 0.1) !important;
  }
  
  /* Style the horizontal scrollbar */
  .w-\[200px\].mx-auto.overflow-x-auto::-webkit-scrollbar {
    height: 8px !important;
    display: block !important;
  }
  
  .w-\[200px\].mx-auto.overflow-x-auto::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1) !important;
    border-radius: 4px !important;
  }
  
  .w-\[200px\].mx-auto.overflow-x-auto::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.4) !important;
    border-radius: 4px !important;
  }
  
  .w-\[200px\].mx-auto.overflow-x-auto::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.6) !important;
  }
  
  /* Make color swatches in horizontal scroll */
  .flex.gap-3.min-w-max button {
    width: 40px !important;
    height: 40px !important;
    min-width: 40px !important;
    min-height: 40px !important;
    border-radius: 8px !important;
  }
  
  /* Ensure the main app container allows scrolling */
  .h-screen.flex.flex-col.bg-black.overflow-hidden {
    height: auto !important;
    min-height: 100vh !important;
    overflow: visible !important;
  }
  
  /* Ensure the main content area allows scrolling */
  main.flex-1.relative.z-10.overflow-hidden {
    overflow: visible !important;
    height: auto !important;
    min-height: 100vh !important;
  }
  
  /* Ensure the mobile layout wrapper allows scrolling */
  .w-full.min-h-screen.bg-black {
    height: auto !important;
    min-height: 100vh !important;
    overflow: visible !important;
  }
  
  /* Ensure the journal preview at the top displays properly */
  .w-full.bg-black.p-4.border-b.border-white\/20 {
    height: auto !important;
    min-height: auto !important;
    overflow: visible !important;
    max-height: none !important;
  }
  
  /* Ensure the journal canvas in the preview displays properly */
  .w-full.max-w-sm.mx-auto {
    height: auto !important;
    min-height: auto !important;
    overflow: visible !important;
    max-height: none !important;
  }
  
  /* Ensure the journal form container allows full scrolling */
  .journal-form-container {
    height: auto !important;
    min-height: 100vh !important;
    overflow: visible !important;
    max-height: none !important;
  }
  
  /* Ensure the grid layout allows scrolling */
  .journal-form-container .grid {
    height: auto !important;
    min-height: 100vh !important;
    overflow: visible !important;
    max-height: none !important;
  }
  
  /* Ensure both grid items can expand fully */
  .journal-form-container .grid > div {
    height: auto !important;
    min-height: auto !important;
    overflow: visible !important;
    max-height: none !important;
  }
  
  /* Override all height restrictions for mobile */
  [class*="md:max-h-[calc(100vh-6rem)]"] {
    max-height: none !important;
  }
  
  [class*="md:overflow-hidden"] {
    overflow: visible !important;
  }
  
  /* Ensure the mobile form container can expand fully */
  .w-full.bg-black {
    height: auto !important;
    min-height: auto !important;
    max-height: none !important;
    overflow: visible !important;
  }
  
  /* Ensure the mobile form content area can expand fully */
  .w-full.min-h-screen.bg-black {
    height: auto !important;
    min-height: auto !important;
    max-height: none !important;
    overflow: visible !important;
  }
  
  /* Ensure the mobile form content wrapper allows scrolling */
  .p-4.space-y-6 {
    height: auto !important;
    min-height: auto !important;
    overflow: visible !important;
    padding-bottom: 4rem !important;
  }
  
  /* Ensure the mobile navigation tabs stay visible */
  .sticky.top-0.z-50.bg-black\/90.backdrop-blur-md.border-b.border-white\/20 {
    position: sticky !important;
    top: 0 !important;
    z-index: 50 !important;
    background: rgba(0, 0, 0, 0.9) !important;
  }
  
  /* Force enable scrolling for all mobile content */
  .overflow-y-auto {
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior: contain !important;
  }
  
  /* Ensure the mobile form sections have proper spacing */
  .space-y-6 > * + * {
    margin-top: 1.5rem !important;
  }
  
  /* Ensure the layout and colors sections are accessible */
  .bg-black\/40.backdrop-blur-sm.rounded-xl.shadow-sm.border.border-white\/20.p-4 {
    margin-bottom: 1rem !important;
  }
  
  /* CRITICAL: Force enable scrolling for all mobile content */
  * {
    max-height: none !important;
  }
  
  /* Ensure the entire page can scroll */
  body, html, #root {
    overflow-y: auto !important;
    overflow-x: hidden !important;
    height: auto !important;
    min-height: 100vh !important;
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior: contain !important;
  }
  
  /* Ensure all containers allow scrolling */
  .w-full.bg-black {
    height: auto !important;
    min-height: auto !important;
    max-height: none !important;
    overflow: visible !important;
  }
  
  /* Ensure the mobile form content is fully accessible */
  .w-full.min-h-screen.bg-black {
    height: auto !important;
    min-height: auto !important;
    max-height: none !important;
    overflow: visible !important;
  }
  
  /* Force horizontal scrollbar to be visible */
  .mx-auto.overflow-x-auto::-webkit-scrollbar {
    height: 10px !important;
    display: block !important;
    background: rgba(255, 255, 255, 0.1) !important;
  }
  
  .mx-auto.overflow-x-auto::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1) !important;
    border-radius: 5px !important;
  }
  
  .mx-auto.overflow-x-auto::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.5) !important;
    border-radius: 5px !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
  }
  
  .mx-auto.overflow-x-auto::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.7) !important;
  }
  
  /* Ensure content overflows */
  .flex.gap-3[style*="minWidth: max-content"] {
    min-width: max-content !important;
    width: max-content !important;
  }
  
  /* Enhanced touch interactions for images */
  canvas {
    touch-action: none !important;
    -webkit-touch-callout: none !important;
    -webkit-user-select: none !important;
    -khtml-user-select: none !important;
    -moz-user-select: none !important;
    -ms-user-select: none !important;
    user-select: none !important;
  }
  
  /* Prevent zoom on double tap */
  canvas {
    -webkit-tap-highlight-color: transparent !important;
  }
  
  /* Larger touch targets for image controls */
  .image-control-button {
    min-width: 44px !important;
    min-height: 44px !important;
    padding: 8px !important;
  }
  
  /* Prevent text selection during image interactions */
  .journal-canvas-container {
    -webkit-user-select: none !important;
    -moz-user-select: none !important;
    -ms-user-select: none !important;
    user-select: none !important;
  }
} 